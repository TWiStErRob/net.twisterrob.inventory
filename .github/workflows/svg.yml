name: SVG

on:
  workflow_dispatch:
  push:
    paths:
      - 'android/data/src/main/res/raw/*.svg'
      - 'android/data/svg/**'
    branches:
      - main
  pull_request:
    paths:
      - '.github/workflows/svg*.yml'

jobs:

  validate:
    name: "ðŸ¦º Validation"
    uses: TWiStErRob/github-workflows/.github/workflows/validate.yml@1d46840cdd22e378efb5ff1e61ee42cdba3310e0 # v1

  instrumentation:
    name: "ðŸŽ¨ Generate SVGs on" # / API ${{ matrix.api }} will be appended by used workflow.
    needs: validate
    uses: ./.github/workflows/svg-instrumentation.yml

  report:
    name: "ðŸ“¢ SVG Report"
    needs: instrumentation
    # The dependency job might be skipped, we don't need to run this job then.
    if: success() || failure()
    uses: ./.github/workflows/svg-report.yml
