group = 'net.twisterrob'
version = '1.0'

apply plugin: 'net.twisterrob.android-library'
apply from: resources.text.fromInsecureUri("http://localhost/maven/configure.gradle")

dependencies {
	implementation "org.slf4j:slf4j-api:${VERSION_SLF4J}"
	implementation "androidx.annotation:annotation:${VERSION_ANDROIDX_ANNOTATION}"
	compileOnly "androidx.fragment:fragment:${VERSION_ANDROIDX_FRAGMENT}"
	implementation "androidx.exifinterface:exifinterface:${VERSION_ANDROIDX_EXIF}"
	implementation "net.twisterrob.lib:twister-lib-android-basics"
	implementation "net.twisterrob.lib:twister-lib-android-glide3"
	implementation "net.twisterrob.lib:twister-lib-java"
	implementation "net.twisterrob.lib:twister-lib-android-monolith"
	androidTestImplementation "net.twisterrob.lib:twister-lib-android-espresso"
	androidTestImplementation("net.twisterrob.lib:twister-lib-android-capture_image-test_helpers") {
		// TODO figure out how to have test-helpers with transitive dependencies, but no including self
		// Program type already present: net.twisterrob.android.activity.CaptureImage*
		// Caused by: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:
		transitive = false
		androidTestImplementation "net.twisterrob.lib:twister-lib-android-espresso_actors"
		androidTestImplementation "net.twisterrob.lib:twister-lib-android-uiautomator"
		androidTestImplementation "androidx.test.espresso:espresso-intents:${VERSION_ESPRESSO}"
	}
	androidTestRuntimeOnly "net.twisterrob.lib:twister-lib-android-slf4j"
	androidTestImplementation "net.twisterrob.lib:twister-lib-android-espresso_glide3"
}

android {
	defaultConfig {
		multiDexEnabled true
		testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
	}
	lintOptions {
		tasks.lint.enabled = false
	}
}
